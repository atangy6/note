[toc]
# 传统网页布局的三种方式
网页布局的本质➡用 CSS 来摆放盒子。 把盒子摆放到相应位置
CSS 提供了三种传统布局方式：
- 普通流（标准流）
- 浮动
- 定位
## 标准流(普通流/文档流)
所谓的标准流，就是标签按照规定好默认方式排列
- **块级元素**会独占一行，从上向下顺序排列。
常用元素：div、hr、p、h1~h6、ul、ol、dl、form、table
- **行内元素**会按照顺序，从左到右顺序排列，碰到父元素边缘则自动换行。
常用元素：span、a、i、em 等

以上都是标准流布局，我们前面学习的就是标准流，标准流是最基
本的布局方式。
这三种布局方式都是用来摆放盒子的，盒子摆放到合适位置，布局
自然就完成了。
注意：实际开发中，一个页面基本都包含了这三种布局方式（后面
移动端学习新的布局方式） 。
## 浮动
`float`属性用于创建浮动框，将其移动到一边，直到左边缘或右边缘触及包含块或另一个浮动框的边缘
```css
<style>
        span{
            width: 150px;
            height: 100px;
            background-color: rgb(9, 36, 110);
        }
        .a{
            float: left; 
        }
        .b{
            float: right;
        }
    </style>
</head>
<body>
    <span class="a"></span>
    <span class="b"></span>
</body>
```
|属性值	|描述|
|--|--|
|none|元素不浮动|
|left	|元素向左浮动|
|right|	元素向右浮动|
- 浮动最典型的应用：可以让多个块级元素一行内排列显示。
- 网页布局的第一准则：多个块级元素纵向排列找标准流，多个块级元素横向排列找浮动
- 网页布局第二准则：先设置盒子大小，之后设置盒子的位置。
### 浮动的特性
设置了浮动（float）的元素的最重要的特性：
1. **脱离标准流的控制移动到指定位置，俗称脱标**
- 浮动的盒子`不再保留原先的位置`
- 设置了浮动的元素漂浮在普通流上面，`不占位置`，脱标
2. **如果多个盒子都设置了浮动，则它们会按照属性值一行内显示并且顶端对齐排列**
- 浮动的元素是相互贴靠在一起的（不会有缝隙），如果父级宽度装不下这些浮动的盒子，多出的盒子会另起一行对齐
3. **浮动元素会具有行内块元素特性**
任何元素都可以浮动。不管原先是什么模式的元素，添加浮动之后都具有行内块元素相似的特性。
- 如果块级盒子没有设置宽度，默认宽度和父级一样宽，但是添加浮动后，它的大小根据内容来决定
- 如果行内元素有了浮动，则不需要转换块级\行内块元素就可以直接给高度和宽度
- 浮动的盒子中间是没有缝隙的，是紧挨着一起的
- 行内元素同理
如果行内元素有了浮动，则不需要转换块级\行内块元素就可以直接给高度和宽度
### 浮动的注意点
#### 浮动元素经常和标准流父级搭配使用
为了约束浮动元素位置, 我们网页布局一般采取的策略是:
- **先用标准流的父元素排列上下位置，之后内部子元素采取浮动排列左右位置**
#### 一个元素浮动了，理论上其余兄弟元素也要浮动
- 一个盒子里面有多个子盒子，如果其中一个盒子浮动了，那么其他兄弟也应该浮动
- 浮动的盒子只会影响浮动盒子后面的标准流，不会影响前面的标准流
> 1.`display: inline-block;`可以实现块盒排成一行，但盒子之间有空隙，而使用浮动没有间隙
2.错误：三个行盒1,3设置浮动2标准流，结果2盒子大小产生变化
3.问题：两个大盒子中分别有两小盒子，盒子1高度高于父盒子会导致盒子3覆盖在盒子1上，而盒子2高度过高时会导致盒子3位置偏下（均设置浮动）
### 清除浮动
#### 为什么要清除浮动
由于父级盒子很多情况下，不方便给高度，但是子盒子浮动又不占有位置，最后父级盒子高度为0时，就会影响下面的标准流盒子。
由于浮动元素不再占用原文档流的位置，所以它会对后面的元素排版产生影响
>两个盒子，第一个盒子有子盒子，子盒子有浮动和高度，父盒子无高度，子盒子会覆盖第二个大盒子
#### 清除浮动的本质
清除浮动的本质是清除浮动元素造成的影响
如果父盒子本身有高度，则不需要清除浮动
清除浮动之后，父级就会根据浮动的子盒子自动检测高度，父级有了高度，就不会影响下面的标准流了。
```css
选择器 {
    clear: 属性值;
}
```
|属性值|	描述|
|--|--|
|left|不允许左侧有浮动元素(清除左侧浮动的影响)|
|right|不允许右侧有浮动元素(清除右侧浮动的影响)|
|both|同时清除左右两侧浮动的影响|
我们实际工作中，几乎只用`clear:both`
清除浮动的策略是：闭合浮动
只让浮动在父盒子内部影响，不影响父盒子外面的其他盒子。
#### 清除浮动的方法
- 额外标签法也称为隔墙法，是W3C推荐的做法
- 父级添加 overflow 属性
- 父级添加 after 伪元素
- 父级添加双伪元素

**①额外标签法**
额外标签法会在最后一个浮动元素后添加一个空的标签,例如：`<div></div>`，或者其他标签（如`</br>`等）然后添加`"clear:both"`样式
注意：要求这个新的空标签必须是**块级元素**
优点：通俗易懂，书写方便
缺点：添加许多无意义的标签，结构化较差
实际工作可能会遇到,但是不常用
**②overflow**
可以给父级添加`overflow`属性，将其属性值设置为`hidden`,`auto`或`scroll`
优点：代码简洁
缺点：无法显示溢出的部分
**③after伪元素法**
:after 方式是额外标签法的升级版。也是给父元素添加（父元素调用 clearfix）
```css
.clearfix:after {
    content: "";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}
.clearfix {
      /* IE6,7专有*/
      *zoom : 1; 
}
```
优点：没有增加标签，结构更简单
缺点：需要照顾低版本浏览器
代表网站：百度、淘宝、网易等
**④双伪元素**
也是给父元素添加
```css
.clearfix:before,.clearfix:after{
   content:"";
   display:table;
}
.clearfix:after {
     clear:both;
}
.clearfix {
  *zoom:1; /* IE6,7专有*/
}
```
优点：代码更简洁
缺点：需要照顾低版本浏览器
代表网站：小米、腾讯等
## 定位
提问：以下情况使用标准流或者浮动能实现吗？
- 某个元素可以自由的在一个盒子内移动位置，并且压住其他盒子。
- 当我们滚动窗口的时候，盒子是固定屏幕某个位置的。

以上效果，标准流或浮动都无法快速实现，此时需要定位来实现
- 浮动可以让多个块级盒子一行没有缝隙的排列显示，经常用于横向排列盒子
- 定位则是可以让盒子自由的在某个盒子内移动位置或固定屏幕中某个位置，并且可以压住其他盒子

### 定位的组成
定位：将盒子定在某一个位置，所以定位也是在摆放盒子，按照定位的方式移动盒子
**定位 = 定位模式 +边偏移**
- 定位模式用于指定一个元素在文档中的定位方式
- 边偏移则决定了该元素的最终位置

**定位模式**决定元素的定位方式 ，它通过 CSS 的**position**属性来设置，其值可以分为四个
|值	|语义|
|--|--|
|static	|静态定位|
|relative|相对定位|
|absolute|	绝对定位|
|fixed|	固定定位|
**边偏移**就是定位的盒子移动到最终位置。
|边偏移属性|示例|描述|
|--|--|--|
|top|top: 80px|顶端偏移量,定义元素相对于其父元素的`上边线的距离`|
|bottom|bottom: 80px|底部偏移量，定义元素相对于其父元素的`下边线的距离`|
|right|right: 80px|右侧偏移量，定义元素相对于其父元素`右边线的距离`|
|left|left: 80px|左侧偏移量，定义元素相对于其父元素`左边线的距离`|

### 静态定位static(了解)
静态定位是元素的默认定位方式，**无定位**的意思
静态定位按照**标准流特性**摆放位置，它没有边偏移,不会受到 top, bottom, left, right影响
```css
选择器 {
	position: static;
}
```
### 相对定位relative
相对定位是元素在移动位置的时候，是相对于它**原来的位置**来说的
特点：
- **它是相对于自己原来的位置来移动的**（移动位置的时候参照点是自己原来的位置）
- 原来在标准流的位置继续占有，后面的盒子仍然以标准流的方式对待。（**不脱标，继续保留原来位置**）
因此，相对定位并没有脱标，它最典型的应用是给绝对定位当爹的。
### 绝对定位absolute
绝对定位是元素在移动位置的时候，是相对于它的祖先元素来说的
特点：
- 如果没有祖先元素，或者祖先元素没定位，则以浏览器为准进行定位(Document 文档)
- 如果祖先元素父级有定位(相对、绝对、固定定位)，则以**最近一级的有定位**祖先元素为参考点移动位置
>静态定位是元素的默认定位方式，无定位的意思
- 绝对定位**不再占用原先的位置**（脱标）
>人走狗占窝

所以绝对定位是脱离标准流的
### 子绝父相
意思：**子级**使用**绝对定位**，**父级**则需要**相对定位**
①：子级绝对定位，不会占有位置，可以放到父盒子里面的任何一个地方，不会影响其他的兄弟盒子。
②：父盒子需要加定位限制子盒子在父盒子内显示
③：父盒子布局时，需要占有位置，因此父亲只能是相对定位。
总结：**因为父级需要占有位置，因此是相对定位，子盒子不要占有位置，则是绝对定位**
### 固定定位fixed
固定定位是元素**固定于浏览器的可视区的位置**
主要使用场景： 可以在浏览器页面滚动时元素的位置不会改变
特点：
- 以浏览器的可视窗口为参照点移动元素
- 跟父元素没有任何关系
- 不随滚动条滚动
- 固定定位不再占有原先的位置(脱标)

固定定位也是脱标的，其实固定定位也可以看做是一种特殊的绝对定位。
#### 固定定位小技巧
固定定位小技巧： 固定在版心右侧位置

```css
.box {
    position: fixed;
    /* 1.走浏览器宽度的一半 */
    left: 50%;
    /* 2.margin走版心盒子宽度的一半 */
    margin-left: 400;
}
```
>盒子的左偏移量为浏览器的一半，再增加盒子左侧外边距将盒子挤到版心右侧
### 粘性定位sticky(了解)
粘性定位可以被认为是**相对定位和固定定位的混合**
特点：
- 以浏览器的可视窗口为参照点移动元素（固定定位特点）
- 粘性定位占有原先的位置（相对定位的特点）
- 必须添加top，left，right，bottom其中一个才有效,否则其行为与相对定位相同。

跟页面滚动搭配使用。 兼容性较差，IE 不支持。
```css
选择器 {
    position:sticky;  
	top: 10px;
}
```
### 定位模式总结
|定位模式|	是否脱标	|移动位置	|
|--|:--:|--|
|static静态定位	|否	|不能使用边偏移	
|relative相对定位|	否（占有位置）	|相对于自身位置移动|
|absolute绝对定位|	**是**（不占有位置）|	带有定位的父级|
|fixed固定定位|	**是**（不占有位置）|	浏览器可视区	|
|sticky|否（占有位置）|	浏览器可视区|
### 定位叠放次序z-index
在使用定位布局时候，可能会出现盒子重叠的情况
此时，可以用 z-index 来控制盒子的前后次序(z轴)
```css
选择器 {
    z-index: 1; 
}
```
- 数值可以是正整数，负整数或者0，默认是auto，数值越大，盒子越靠上
- 如果属性值相同，则按照书写顺序，**后来居上**
- 数字后面不能加单位
- 只有定位的盒子才有 z-index 属性
### 定位的拓展
#### 绝对定位的盒子居中
**加了绝对定位的盒子不能通过 margin: 0 auto 水平居中**，但是可以通过以下计算方法实现水平和垂直居中
>脱标的元素不能使用margin: 0 auto居中

①：left: 50%; 让盒子的左侧移动到父级元素的水平中心位置
②：margin-left: -100px; 让盒子向左移动自身宽度的一半
```css
.box {
    position: absolute;
    /* 1.left走50%，父容器宽度的一半 */
    left: 50%;
    /* 2.margin 负值往左边走 自己盒子宽度的一半 */
    margin-left: -xx;
}
```
#### 定位特殊特性
绝对定位和固定定位也和浮动类似。
- ①：行内元素添加绝对或者固定定位，可以直接设置高度和宽度
- ②：块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小是内容的大小。
#### 脱标的盒子不会触发外边距塌陷
浮动元素、绝对定位(固定定位)元素都不会触发外边距合并的问题。
#### 绝对定位(固定定位)会完全压住盒子
- 浮动元素不同，只会压住它下面标准流的盒子，但是不会压住下面标准流盒子里面的文字（图片）
- 但是绝对定位（固定定位） 会压住下面标准流所有的内容。
- 浮动之所以不会压住文字，因为浮动产生的目的最初是为了做文字环绕效果的。 文字会围绕浮动元素

## 网页布局总结
通过盒子模型，清楚知道大部分html标签是一个盒子
通过CSS浮动、定位 可以让每个盒子排列成为网页
一个完整的网页，是标准流、浮动、定位一起完成布局的，每个都有自己的专门用法
- 标准流
可以让盒子上下排列或者左右排列，垂直的块级盒子显示就用标准流布局。
- 浮动
可以让多个块级元素一行显示或者左右对齐盒子，多个块级盒子水平显示就用浮动布局。
- 定位
定位最大的特点是有层叠的概念，就是可以让多个盒子前后叠压来显示。如果元素自由在某个盒子内移动就用定位布局。
# 元素的隐藏与显示
类似网站广告，当我们点击关闭就不见了，但是我们重新刷新页面，会重新出现！
本质：让一个元素在页面中隐藏或者显示出来
## display显示隐藏
display属性用于设置一个元素应如何显示
```css
display: none;  /*隐藏对象*/
display: block; /*除了转换为块级元素之外，同时还有显示元素的意思*/
```
display隐藏元素后，**不再占有原来的位置**
后面应用及其广泛，搭配 JS 可以做很多的网页特效。
## visibility显示隐藏
visibility属性用于指定一个元素应可见还是隐藏
```css
visibility: visible; /*元素可视*/
visibility: hidden;  /*元素隐藏*/
```
visibility 隐藏元素后，**继续占有原来的位置**
如果隐藏元素想要原来位置， 就用 visibility：hidden
如果隐藏元素不想要原来位置， 就用 display：none (用处更多 重点）
## overflow溢出显示隐藏
overflow 控制内容溢出边框盒后的处理方式。
|属性值	|描述|
|--|--|
|visible|	不剪切内容也不添加滚动条|
|hidden	|不显示超过对象尺寸的内容，超出的部分隐藏掉|
|scroll|	不管超出内容否，总是显示滚动条|
|auto|	超出自动显示滚动条，不超出不显示滚动条|
一般情况下，我们都不想让溢出的内容显示出来，因为溢出的部分会影响布局。
但是如果有定位的盒子， 请慎用 overflow:hidden 因为它会隐藏多余的部分。
# 图像精灵
图像精灵是单个图像中包含的图像集合。
包含许多图像的网页可能需要很长时间才能加载，同时会生成多个服务器请求。
使用图像精灵将减少服务器请求的数量并节约带宽。
## 核心
- 精灵技术主要针对于背景图片使用，就是把多个小背景图片整合到一张大图片中
- 这个大图也称为sprites精灵图或者雪碧图
- 移动背景图片位置，此时可以使用background-position
- 移动的距离就是这个目标图片的x和y坐标
>将多个小图片整合到一张大图片中，通过移动大图片的位置，从而显示小图片
```css
.j{
            width: 107px;
            height: 107px;
            float: left;
            background: url(../images/字母.jpg)no-repeat -485px -175px;
        }
        .x{
            width: 107px;
            height: 107px;
            float: left;
            background: url(../images/字母.jpg)no-repeat -333px -690px;
        }
    </style>
</head>
<body>
    <div class="j"></div>
    <div class="x"></div>
```
# 字体图标
主要用于显示网页中常用的一些小图标
精灵图缺点：
- 图片文件还是比较大的
- 图片本身放大和缩小会失真
- 一旦图片制作完毕想要更换非常复杂

此时字体图标iconfont解决了以上问题，字体图标展示的是图标本质属于字体
## 下载
- icomoon字库 https://icomoon.io
- 阿里iconfont字库 http://www.iconfont.cn/
## 引入
1. 把下载的fonts文件夹复制到自己的项目中根目录中
2. 打开下载的css文件，将@font-face{}复制到自己的css文件中
3. 打开下载的html文件在自己的html标签内添加小图标
4. 给标签定义字体。
`选择器{ font-family: "icomoon"; }`
注意：务必保证 这个字体和上面@font-face里面的字体保持一致
## 字体图标的追加
如果工作中，原来的字体图标不够用了，我们需要添加新的字体图标到原来的字体文件中。
把压缩包里面的selection.json重新上传(import icons)，然后选中自己想要新的图标，重新下载压缩包，并替换原来的文件即可。
# css三角做法
网页中常见一些三角形，使用 CSS 直接画出来就可以，不必做成图片或者字体图标。
```css
div {
    width: 0; 
    height: 0;
    border: 50px solid transparent;/* transparent透明 */
    border-left-color:palevioletred ;
    font-size: 0;
    line-height: 0;
 }
 ```
 为了照顾兼容性 低版本的浏览器，加上 font-size: 0; line-height: 0;
```css
<style>
    .jd {
      width: 120px;
      height: 249px;
      background-color: rgb(83, 114, 216);
      position: relative;/*相对定位*/
      top: 100px;
    }

    .jd .box2 {
      position: absolute;/*绝对定位*/
      width: 0;
      height: 0;
      border: 10px solid transparent;
      border-bottom-color: rgb(36, 172, 177);
      left: 50%;
      margin-left: -10px;/*水平居中*/
      top: -20px;/*上移到父盒子边*/
    }
  </style>
</head>
<body>
  <div class="jd">
    <div class="box2"></div>
  </div>
</body>
```
# CSS用户界面样式

## 鼠标样式cursor
```css
li {
 	cursor: pointer; 
 }
 ```
设置或检索在对象上移动的鼠标指针采用何种系统预定义的光标形状。
|属性值|描述|
|--|--|
|default |默认光标，不考虑上下文，通常是一个箭头|
|pointer |表示一个链接，小手|
|move|表示可以移动鼠标下方的对象|
|text|表示可以选择的文本|
|not-allowed|表示无法完成某事|
## 轮廓线
给表单添加`outline: 0;`或者`outline: none;`样式之后，就可以去掉默认的蓝色边框。
```css
input {
 	outline: none; 
 }
 ```
## 防止拖拽文本域
实际开发中，我们文本域右下角是不可以拖拽的。
```css
textarea{ 
 	resize: none;
 }
```
## vertical-align 属性应用
### 图片或者表单(行内块元素)和文字垂直对齐。
官方解释： 用于设置一个元素的**垂直对齐方式**，但是它只针对于行内元素或者行内块元素有效。
```css
img{
vertical-align : baseline | top | middle | bottom ;}/*默认、顶端、中部、底端*/
```
### 解决图片底部默认空白缝隙问题
图片底部会有一个空白缝隙，原因是行内块元素会和文字基线对齐
- 给图片添加vertical-align (提倡使用)
```css
div{
      border: 2px solid red;
    }
   img{
     vertical-align:bottom;
   }
  </style>
</head>
<body>
  <div>
 <img src="../images/TB1gjpg.jpg" alt="">1234567890</div>
</body>
 ```
- 将图片转为块级元素(但会影响其他的布局)
## 溢出文字省略号显示
### 单行文本溢出显示省略号
```css
/*1. 先强制一行内显示文本*/white-space: nowrap; （ 默认 normal 自动换行）
/*2. 超出的部分隐藏*/overflow: hidden;
/*3. 文字用省略号替代超出的部分*/text-overflow: ellipsis;
```
### 多行文本溢出显示省略号
多行文本溢出显示省略号，有较大兼容性问题，适合webkit浏览器或移动端（移动端大部分是webkit内核）
```css
/*1. 超出的部分隐藏 */
overflow: hidden;
/*2. 文字用省略号替代超出的部分 */
text-overflow: ellipsis;
/* 3. 弹性伸缩盒子模型显示 */
display: -webkit-box;
/* 4. 限制在一个块元素显示的文本的行数 */
-webkit-line-clamp: 2;
/* 5. 设置或检索伸缩盒对象的子元素的排列方式 */
-webkit-box-orient: vertical;
```
# 布局技巧
## margin负值运用
1.让每个盒子margin 往左侧移动 -1px 正好压住相邻盒子边框
2.鼠标经过某个盒子的时候，提高当前盒子的层级即可（如果没有有定位，则加相对定位（保留位置），如果有定位，则加z-index）
## 文字围绕浮动元素
利用浮动
## CSS三角强化案例
上边框宽度大，下边框为0，做边框为0，右边宽度稍小并设置颜色
